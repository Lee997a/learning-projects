<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Spring Security JWT - 홈</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
  <style>
    .hero-section {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 100px 0;
    }
    .feature-card {
        transition: transform 0.3s;
    }
    .feature-card:hover {
        transform: translateY(-5px);
    }
  </style>
</head>
<body>
<!-- 네비게이션 -->
<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
  <div class="container">
    <a class="navbar-brand" href="/">
      <i class="fas fa-shield-alt me-2"></i>Security JWT
    </a>

    <div class="navbar-nav ms-auto">
      <div th:if="${!isAuthenticated}">
        <a class="nav-link d-inline-block me-3" href="/login" th:href="@{/login}">
          <i class="fas fa-sign-in-alt me-1"></i>로그인
        </a>
        <a class="nav-link d-inline-block" href="/signup" th:href="@{/signup}">
          <i class="fas fa-user-plus me-1"></i>회원가입
        </a>
      </div>
      <div th:if="${isAuthenticated}">
        <span class="nav-link">안녕하세요, <span th:text="${currentUser}">사용자</span>님!</span>
      </div>
    </div>
  </div>
</nav>

<!-- 히어로 섹션 -->
<section class="hero-section text-center">
  <div class="container">
    <h1 class="display-4 fw-bold mb-4">
      <i class="fas fa-lock me-3"></i>
      Spring Security JWT
    </h1>
    <p class="lead mb-4">안전하고 확장 가능한 JWT 기반 인증 시스템</p>

    <div th:if="${!isAuthenticated}">
      <a href="/signup" th:href="@{/signup}" class="btn btn-light btn-lg me-3">
        <i class="fas fa-user-plus me-2"></i>시작하기
      </a>
      <a href="/login" th:href="@{/login}" class="btn btn-outline-light btn-lg">
        <i class="fas fa-sign-in-alt me-2"></i>로그인
      </a>
    </div>

    <div th:if="${isAuthenticated}">
      <a sec:authorize="hasRole('USER')" href="/user/dashboard" th:href="@{/user/dashboard}"
         class="btn btn-light btn-lg me-3">
        <i class="fas fa-tachometer-alt me-2"></i>대시보드로 이동
      </a>
      <a sec:authorize="hasRole('ADMIN')" href="/admin/dashboard" th:href="@{/admin/dashboard}"
         class="btn btn-warning btn-lg me-3">
        <i class="fas fa-cog me-2"></i>관리자 대시보드
      </a>
    </div>
  </div>
</section>

<!-- 기능 소개 -->
<section class="py-5">
  <div class="container">
    <div class="row text-center mb-5">
      <div class="col-lg-12">
        <h2 class="fw-bold">주요 기능</h2>
        <p class="text-muted">현대적이고 안전한 인증 시스템의 특징들</p>
      </div>
    </div>

    <div class="row">
      <div class="col-lg-4 mb-4">
        <div class="card h-100 feature-card border-0 shadow-sm">
          <div class="card-body text-center p-4">
            <i class="fas fa-key fa-3x text-primary mb-3"></i>
            <h5 class="card-title">JWT 토큰 기반</h5>
            <p class="card-text">세션을 사용하지 않는 무상태 인증으로 확장성이 뛰어납니다.</p>
          </div>
        </div>
      </div>

      <div class="col-lg-4 mb-4">
        <div class="card h-100 feature-card border-0 shadow-sm">
          <div class="card-body text-center p-4">
            <i class="fas fa-shield-alt fa-3x text-success mb-3"></i>
            <h5 class="card-title">강력한 보안</h5>
            <p class="card-text">BCrypt 암호화와 HS512 알고리즘으로 안전하게 보호됩니다.</p>
          </div>
        </div>
      </div>

      <div class="col-lg-4 mb-4">
        <div class="card h-100 feature-card border-0 shadow-sm">
          <div class="card-body text-center p-4">
            <i class="fas fa-users-cog fa-3x text-warning mb-3"></i>
            <h5 class="card-title">권한 관리</h5>
            <p class="card-text">사용자와 관리자 권한을 구분하여 접근을 제어합니다.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>